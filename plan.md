# Plan - SONTA-kun (週報・月報作成支援ツール)

## Overview

エクセルのToDoリストを入力として、報告対象者に最適化された週報・月報を自動生成するAIツール。
Amazon Bedrock (Claude) を活用し、ローカルPC上で動作する。

## Goals

1. ToDoリストから報告書作成の工数を削減する
2. 報告対象者の関心事に応じた最適な報告内容を生成する
3. 前回報告との差分を考慮した進捗報告を実現する

## Features

### 入力機能
- [ ] エクセルファイル（ToDoリスト）の読み込み
- [ ] ドラッグ＆ドロップによるファイル読み込み
- [ ] ファイルパス指定による読み込み
- [ ] 自由記述欄による入力
- [ ] 前回報告内容の読み込み（差分比較用）
  - ファイル読み込み
  - 自由記述による入力

### 報告対象者管理
- [ ] 報告対象者の選択
- [ ] 報告対象者のプロファイリング設定（バイネーム登録）
  - 個人名、役職、関心事をセットで登録
  - 登録した報告対象者から選択して報告書を生成
  - 例：山田さん（課長）→ 納期重視
  - 例：佐藤さん（室長）→ 方針重視
  - 例：田中さん（部長）→ コスト重視
  - 例：鈴木さん（メンバー）→ 詳細内容重視

### 出力機能
- [ ] 週報/月報の選択
- [ ] エグゼクティブサマリの生成（文字数制限あり）
- [ ] 詳細内容の生成
- [ ] ネクストアクションの提案（報告対象者の好みを反映）
- [ ] 出力形式の選択（Text / Markdown）

### AI連携
- [ ] Amazon Bedrock API連携
- [ ] Claude モデルによる文章生成
- [ ] 前回との進捗差分分析

## Technical Stack

| 項目 | 技術 |
|------|------|
| AI/LLM | Amazon Bedrock (Claude) |
| 動作環境 | ローカルPC |
| 入力形式 | Excel (.xlsx, .xls, .xlsm), 自由記述 |
| 出力形式 | Text, Markdown |

## Architecture

```
┌─────────────────┐     ┌─────────────────┐     ┌─────────────────┐
│   Input Layer   │────▶│  Processing     │────▶│  Output Layer   │
│                 │     │     Layer       │     │                 │
│ - Excel Reader  │     │ - Diff Analysis │     │ - Text Format   │
│ - File Handler  │     │ - AI Generation │     │ - MD Format     │
│ - Previous Data │     │ - Profile Match │     │ - Summary       │
└─────────────────┘     └─────────────────┘     └─────────────────┘
                               │
                               ▼
                        ┌─────────────────┐
                        │ Amazon Bedrock  │
                        │   (Claude)      │
                        └─────────────────┘
```

## Tasks

### Phase 1: 基盤構築
- [x] プロジェクト構成の決定（言語、フレームワーク）
- [x] 開発環境のセットアップ
- [x] Amazon Bedrock API接続の実装

### Phase 2: 入力機能
- [x] Excelファイル読み込み機能の実装
- [x] ファイル選択UI（D&D対応）の実装
- [x] 前回報告データの保存・読み込み機能

### Phase 3: コア機能
- [ ] 報告対象者プロファイル管理機能
- [ ] プロンプト設計・実装
- [ ] 差分分析ロジックの実装
- [ ] 報告書生成機能の実装

### Phase 4: 出力機能
- [ ] エグゼクティブサマリ生成（文字数制御）
- [ ] 詳細内容生成
- [ ] ネクストアクション提案機能
- [ ] 出力形式切り替え（Text/Markdown）

### Phase 5: UI/UX
- [ ] ユーザーインターフェースの実装
- [ ] 設定画面の実装

### Phase 6: テスト・改善
- [ ] 各機能のテスト
- [ ] プロンプトチューニング
- [ ] ドキュメント作成

## Notes

- エクセルに書かれているToDoリストがInput
- Inputをもとに週報、月報を作成する
- 報告対象はメンバー、課長、室長、部長とする
- 報告対象は選択でき、報告対象の関心ごとに応じて出力内容を変更する
- 報告対象のプロファイリング（例：Aさんは課長で納期に厳しい、Bさんは室長で方針に厳しい、Cさんは部長でコストに厳しい、Dさんはメンバーで詳細内容を知りたい）ができるようにする
- Input情報はドラッグアンドドロップまたは、ファイルパスを指定して読み込めるようにする
- 前回報告した内容をインプットに指定出来て、AIは前回の進捗と今回の進捗の差分を比較したうえで報告内容を作成する
- 週報、月報を選択して出力できるようにする
- 出力形式はエグゼクティブサマリと詳細内容とする
- 指定の文字数以内でサマリは出力すること
- ネクストアクションの提案すること
- ネクストアクションの提案は報告対象の好みを反映する
- 出力形式はText形式とMarkdown形式を選択できるようにする
- AmazonBedRockのAPIキーが使用可能
- Claudeのモデルを使用可能
- Local PC上で動作できること
